<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<link href='docs.css' rel='stylesheet' type='text/css' media='screen' />
</head>
<body>
<div id='wrapper'>
  <div id='wrapper2'>
    <div id='header'>
      <div id='logo'>
      <h1>Periods</h1>
      </div>
      </div>
           <div id="page">
      <div id="content"> 
          <h2 id="Periods">Periods</h2>
<p>
Typically, reports are run for a period of time. For example, a project report may show the usage of a project for the year so far. The time period used in report is defined as a Period.
</p>
<p>
The 'period' namespace needs to be defined in the Report, as follows:
</p>
<div class="code"><pre>&lt;rep:Report 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:rep="http://safe.epcc.ed.ac.uk/report"
  xmlns:par="http://safe.epcc.ed.ac.uk/parameter"
  xmlns:per="http://safe.epcc.ed.ac.uk/period"&gt;
</pre></div><h3 id="StartTimeandEndTime">StartTime and EndTime</h3>
<p>
A period has a start and end time.
</p>
<div class="code"><pre>&lt;per:Period&gt;
        &lt;per:StartTime&gt;2008-10-01&lt;/per:StartTime&gt;
        &lt;per:EndTime&gt;2008-10-08&lt;/per:EndTime&gt;
&lt;/per:Period&gt;
</pre></div><p>
These time can be defined as 
</p>
<ul><li>days, in the format "YYYY-MM-DD"; 
</li><li>months, in the format "YYYY-MM"; or 
</li><li>timestamps, in the format "YYYY-MM-DD hh:mm:ss".
</li></ul><p>
If no start time is specified then the default start time is specified which is the first day of the current month. If no end time is specified the first day of the next month used.
</p>
<p>
Note that if no time of day is specified it defaults to midnight at the start of that day so to select a full calandar month the end time should be the 1st day of the following month.
</p>
<h3 id="NumberofSplits">Number of Splits</h3>
<p>
A period can be split into sections, or splits. The number of splits in a period can be configured using the NumberOfSplits element. The example below show a how to define a period from the 26th of September 2008 to the 28th of Spetember 2008 and split into ten sections.
</p>
<div class="code"><pre>&lt;per:Period&gt;
        &lt;per:StartTime&gt;2008-09-26&lt;/per:StartTime&gt;
        &lt;per:EndTime&gt;2008-09-28&lt;/per:EndTime&gt;
        &lt;per:NumberOfSplits&gt;10&lt;/per:NumberOfSplits&gt;
&lt;/per:Period&gt;
</pre></div><h3 id="SplitUnitandNumberOfSplitUnits">SplitUnit and NumberOfSplitUnits</h3>
<p>
Instead of expressing an end time as a date, it may be preferable to specify that it should be 7 day after the start, ot 1 month after the start. This can be done using the <tt>SplitUnit</tt> and <tt>NumberOfSplitUnits</tt> and <tt>NumberOfSplits</tt> tags. The <tt>SplitUnit</tt> can be one of: 
</p>
<ul><li>Second,
</li><li>Minute,
</li><li>Hour,
</li><li>Day,
</li><li>Week,
</li><li>Month or
</li><li>Year.
</li></ul><p>
And the <tt>NumberOfSplitUnits</tt> is the number of these units in a split. The example below shows a year split into quarters, or four (<tt>NumberOfSplits</tt>) three (<tt>NumberOfSplitUnits</tt>) month (<tt>SplitUnit</tt>) splits.
</p>
<div class="code"><pre>&lt;per:Period&gt;
        &lt;per:StartTime&gt;2008-09&lt;/per:StartTime&gt;
        &lt;per:SplitUnit&gt;Month&lt;/per:SplitUnit&gt;
        &lt;per:NumberOfSplitUnits&gt;3&lt;/per:NumberOfSplitUnits&gt;              
        &lt;per:NumberOfSplits&gt;4&lt;/per:NumberOfSplits&gt;
&lt;/per:Period&gt;
</pre></div><p>
If either the <tt>NumberOfSplitUnits</tt> or the <tt>NumberOfSplits</tt> are not defined, they default to 1. 
</p>
<p>In most cases you will want to specify the report period dynamically. There are build-in parameter inputs for the various period types
and these can be directly into the report either as text or as the corresponding XML:

<pre>
&lt;par:ParameterDef name=&quot;Period&quot; label=&quot;Report period&quot;
		type=&quot;CalendarPeriod&quot; /&gt;<br>&lt;rep:Title&gt;Report from &lt;par:Parameter name=&quot;Period&quot; format=&quot;DateRange&quot; /&gt;&lt;/rep:Title&gt;<br>&lt;!-- expands as XML --&gt;<br>&lt;par:Parameter name=&quot;Period&quot; /&gt;
</pre>
</div>
</div>
</div>
</div>
</body>
</html>