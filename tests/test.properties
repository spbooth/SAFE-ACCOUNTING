# Copyright - The University of Edinburgh 2015

# for unit tests create in memory if we can
create_table.use_memory=true
fred=boris
service.feature.clear_database=on
service.feature.test.minimal-diff=on
auto_create_person.CertificatePerson=true
auto_create_person.Person=true
Person.default_realm=WebName
class.Person=PersonFactory
Person.composites=AppUserNameFinder.Email,AppUserNameFinder.WebName,SignupDateComposite
NameFinder.WebName.user_visible=true
#AppUserNameFinder.WebName.user_supplied=true
#add_properties.accounting=/uk/ac/ed/epcc/safe/accounting/accounting.default.properties
#add_properties.reports=/uk/ac/ed/epcc/safe/accounting/reports/report-builder.default.properties

class.TransitionProvider.ReportTemplate=uk.ac.ed.epcc.safe.accounting.model.ReportTemplateTransitionProvider

class.TestClassifier=AccountingClassificationFactory
create_table.TestClassifier.count=integer

# add standard service props in a way that included projects don't pick them up
service.feature.auto_create.tables=on
# tests were originally written without grouping
service.feature.report.number_group=off
add_properties.service=test-config.properties
config.path=test-config.properties
report-templates=tests/uk/ac/ed/epcc/safe/accounting/reports/report-templates,report-templates
schema=schema
stylesheets=stylesheets


test.value=found it!
testing=true
db_name=jdbc:mysql://localhost/webacct_test
#db_name=jdbc:mysql://localhost/webacct

service.feature.test.drop-tables=true
db_driver=com.mysql.jdbc.Driver
db_username=webacct
db_password=webacct
#connection.pool=


#
testdata.driver=com.mysql.jdbc.Driver
testdata.username=webacct
testdata.password=webacct
testdata.test_database=webacct_test
#testdata.test_database=webacct
testdata.datasets_database=webacct_testdata
testdata.mapping_table=TestDataSets
cache.Project=true
#allocation.tables=Allocation
service.feature.log_query=off
parser.JobManager
class.parser.JobManager=JobmanagerParser
class.parser.ALPSLog=AlpsParser
create_table.AprunCommandLog.ParentID=ALPSLog
class.parser.AprunCommandLog=AprunParser

class.parser.RURLog=RurParser

class.ALPSLog=ConfigUsageRecordFactory
class.AprunCommandLog=ConfigUsageRecordFactory
class.RURLog=ConfigUsageRecordFactory

service.feature.log_fetch=off
service.feature.log_update=off

nested_parse.link.ALPSLog=apid
nested_parse.prop.ALPSLog=cmd_line
nested_parse.table.ALPSLog=AprunCommandLog

LinkPolicy.target.RURLog=ALPSLog
LinkPolicy.link.RURLog.apid=apid

class.AprunApplication=uk.ac.ed.epcc.safe.accounting.db.RegexpTargetFactory
regex_link_parse.link.AprunCommandLog=app_exe_name
#regex_link_parse.target.AprunCommandLog=app_id
regex_link_parse.table.AprunCommandLog=AprunApplication

class.Reports=ConfigFormRegistry
Reports.tables=ReportTemplate,ReportTemplateOverlay,StyleSheetOverlay,SchemaOverlay
#class.ReportTemplate=uk.ac.ed.epcc.safe.accounting.model.ReportTemplateFactory

# each file type has own table report-templates have special handling
class.ReportTemplateOverlay=uk.ac.ed.epcc.safe.accounting.reports.TemplateOverlay
class.StyleSheetOverlay=uk.ac.ed.epcc.webapp.model.TextFileOverlay
class.SchemaOverlay=uk.ac.ed.epcc.webapp.model.TextFileOverlay
